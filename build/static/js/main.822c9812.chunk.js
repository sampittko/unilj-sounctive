(this.webpackJsonpsounctive=this.webpackJsonpsounctive||[]).push([[0],{54:function(e,t,a){e.exports=a(66)},55:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);a(55),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var n=a(14),r=a(12),o=a(0),c=a.n(o),i=a(67),l="Bass booster",u="Pitch shifter",s="Volume changer",d="Speed changer",m="Reverser",f="Trimmer",b="Cutter",v="bass-boost",p="pitch-shift",h="volume-change",w="speed-change",E="reverse",g="trim",x="cut",S=function(e){switch(e){case v:return l;case p:return u;case h:return s;case w:return d;case E:return m;case g:return f;case x:return b;default:return""}},y=function(e){switch(e){case l:return v;case u:return p;case s:return h;case d:return w;case m:return E;case f:return g;case b:return x;default:return""}},C=a(31),O=Object(C.a)({},"centered",{height:"90vh",width:"100vw",textAlign:"center",display:"table-cell",verticalAlign:"middle",borderBottom:"10vh solid #fff"}),j={minWidth:"642px",margin:"0 auto"},k=a(68),N=Object(k.a)({text:Object(r.a)({position:"absolute",textAlign:"center",top:"15vh",left:0,right:0,fontWeight:"bolder",textTransform:"uppercase"},j)}),B=function(e){var t=N();return c.a.createElement(i.a,{className:t.text,variant:"h5"},function(){switch(e.activeStep){case 0:return"WAV file selection";case 1:return"Tool selection";case 2:return S(e.modification);case 3:return"Download new audio";default:return"Unknown"}}())},A=a(90),R=a(41),D=a.n(R),L=Object(k.a)(Object(r.a)({input:{display:"none"}},O)),U=function(e){var t=L();return c.a.createElement("div",{className:t.centered},c.a.createElement("input",{id:"button-file",className:t.input,type:"file",accept:"audio/wav",onChange:function(t){var a=Array.from(t.target.files)[0];e.onSuccess(a)}}),c.a.createElement("label",{htmlFor:"button-file"},c.a.createElement(A.a,{variant:"contained",size:"large",component:"span",endIcon:c.a.createElement(D.a,null)},"Choose WAV file")))},V=a(91),W=a(104),I=Object(k.a)({formControlLabel:{marginRight:0}}),T=function(e){var t=I();return c.a.createElement(V.a,{value:y(e.label),control:c.a.createElement(W.a,null),label:e.label,className:t.formControlLabel,disabled:e.disabled})},M=a(106),P=Object(k.a)(Object(r.a)({radioGroup:Object(r.a)({alignContent:"space-around"},j)},O)),G=function(e){var t=P();return c.a.createElement("div",{className:t.centered},c.a.createElement(M.a,{"aria-label":"modification",name:"modification",value:e.modification,onChange:function(t){return e.onSuccess(t.target.value)},className:t.radioGroup},c.a.createElement(T,{label:l}),c.a.createElement(T,{label:u}),c.a.createElement(T,{label:s}),c.a.createElement(T,{label:d}),c.a.createElement(T,{label:m}),c.a.createElement(T,{label:f,disabled:!0}),c.a.createElement(T,{label:b,disabled:!0})))},z=a(93),F=a(94),J=a(103),q=a(92),H=a(44),$=a.n(H),K=a(43),Q=a.n(K),X=Object(k.a)({iconButton:function(e){return{display:0!==e.activeStep?"initial":"none",position:"absolute",right:"24px"}}}),Y=function(e){var t=X(e);return c.a.createElement(J.a,{placement:"left",title:3!==e.activeStep?"Cancel edit":"Start new edit"},c.a.createElement(q.a,{className:t.iconButton,color:"inherit",onClick:e.onClick},3!==e.activeStep?c.a.createElement(Q.a,null):c.a.createElement($.a,null)))},Z=function(){return c.a.createElement(i.a,{variant:"h6"},"Sounctive")},_=function(e){return c.a.createElement(z.a,null,c.a.createElement(F.a,null,c.a.createElement(Z,null),c.a.createElement(Y,{activeStep:e.activeStep,onClick:e.onButtonClick})))},ee=a(95),te=Object(k.a)({container:{height:"100vh"}}),ae=function(e){var t=te();return c.a.createElement(ee.a,{container:!0,className:t.container},c.a.createElement(ee.a,{item:!0,xs:12},c.a.createElement(_,{activeStep:e.activeStep,onButtonClick:e.onButtonClick}),e.children))},ne=a(96),re=a(97),oe=a(98),ce=a(99),ie=a(47),le=a.n(ie),ue=a(45),se=a.n(ue),de=a(46),me=a.n(de),fe=a(11),be=a.n(fe),ve=function(e){return e.replace(".wav","")},pe="started",he="stopped",we=Object(ne.a)(Object(r.a)({download:{position:"absolute",right:0,marginRight:"8px"},card:Object(r.a)({width:"300px !important",position:"relative"},j)},O)),Ee=function(e){var t=Object(o.useState)(new be.a.Player(e.audioBuffer).toMaster()),a=Object(n.a)(t,2),r=a[0],l=a[1],u=Object(o.useState)(he),s=Object(n.a)(u,2),d=s[0],m=s[1],f=we();return c.a.createElement("div",{className:f.centered},c.a.createElement(re.a,{className:f.card},c.a.createElement(oe.a,null,c.a.createElement(i.a,{component:"h5",variant:"h5"},ve(e.file.name)),c.a.createElement(i.a,{variant:"subtitle1",color:"textSecondary"},"from Sounctive")),c.a.createElement(ce.a,null,c.a.createElement(q.a,{onClick:function(){r.start(),m(pe)},disabled:d===pe},c.a.createElement(se.a,null)),c.a.createElement(q.a,{onClick:function(){r.disconnect(),l(new be.a.Player(e.audioBuffer).toMaster()),m(he)},disabled:d===he},c.a.createElement(me.a,null)),c.a.createElement(A.a,{className:f.download,size:"large",variant:"contained",color:"secondary",startIcon:c.a.createElement(le.a,null),onClick:e.onDownloadClick,disabled:e.downloadDisabled},"Download"))))},ge=function(e){var t=Object(o.useState)(!1),a=Object(n.a)(t,2),r=a[0],i=a[1],l=function(){var t=document.createElement("a");return document.body.appendChild(t),t.style="display: none",function(){var a,n=window.URL.createObjectURL(u());t.href=n,t.download=(a=e.file.name,ve(a)+" from Sounctive.wav"),t.click(),window.URL.revokeObjectURL(n),i(!0)}}(),u=function(){var t,a,n=e.data.audioBuffer.sampleRate,r=e.data.audioBuffer.numberOfChannels,o=e.data.contextLength*r*2+44,c=new ArrayBuffer(o),i=new DataView(c),l=[],u=0,s=0;for(m(1179011410),m(o-8),m(1163280727),m(544501094),m(16),d(1),d(r),m(n),m(2*n*r),d(2*r),d(16),m(1635017060),m(o-s-4),t=0;t<r;t++)l.push(e.data.audioBuffer.getChannelData(t));for(;s<o;){for(t=0;t<r;t++)a=0|(.5+(a=Math.max(-1,Math.min(1,l[t][u])))<0?32768*a:32767*a),i.setInt16(s,a,!0),s+=2;u++}return new Blob([c],{type:"audio/wav"});function d(e){i.setUint16(s,e,!0),s+=2}function m(e){i.setUint32(s,e,!0),s+=4}};return c.a.createElement(Ee,{audioBuffer:e.data.audioBuffer,onDownloadClick:l,downloadDisabled:r,file:e.file})},xe=a(100),Se=a(107),ye=Object(ne.a)(Object(r.a)({grayText:{color:"#bdbdbd"},captionGrayText:{color:"#bdbdbd",fontStyle:"italic"},progress:{position:"absolute",bottom:0,width:"100%",zIndex:"100"}},O)),Ce=function(e){var t=ye(),a=Object(o.useState)(0),r=Object(n.a)(a,2),l=r[0],u=r[1],s=Object(o.useState)(!1),d=Object(n.a)(s,2),m=d[0],f=d[1],b=function(t){var a=null;switch(e.modification){case v:var n=S(!0);a=new be.a.Filter(200-20*n,"lowshelf",-24);break;case p:a=new be.a.PitchShift(l);break;case h:a=new be.a.Volume(l);break;case w:t.playbackRate.value=l;break;case E:for(var r=0;r<t.buffer.numberOfChannels;r++)Array.prototype.reverse.call(t.buffer.getChannelData(r));break;case g:case x:return void console.error("Unsupported operation");default:return void console.error("Invalid modification value")}a&&be.a.connect(t,a),a&&a.connect(be.a.context.rawContext.destination),a||t.connect(be.a.context.rawContext.destination)},S=function(t){switch(e.modification){case v:return t?5:0;case p:return t?24:-24;case h:return t?20:-20;case w:return t?2:.5;case E:return t?1:0;case g:case x:return void console.error("Unsupported operation");default:return void console.error("Invalid modification maxValue")}};return c.a.createElement("div",{className:t.centered},c.a.createElement(i.a,{gutterBottom:!0,variant:"h3",className:m?t.grayText:""},l>0?"+".concat(l):l),m&&c.a.createElement(xe.a,{variant:"query",className:t.progress}),c.a.createElement(Se.a,{defaultValue:e.modification===w?1:0,step:e.modification===w?.1:1,marks:!0,min:S(!1),max:S(!0),track:!1,onChange:function(e,t){return u(t)},onChangeCommitted:function(){if(0!==l&&(e.modification!==w||1!==l)){f(!0);var t=new FileReader;t.readAsArrayBuffer(e.file),t.addEventListener("load",(function(){var a=t.result;(new AudioContext).decodeAudioData(a).then((function(t){var a=new OfflineAudioContext(t.numberOfChannels,t.duration*t.sampleRate,t.sampleRate);be.a.setContext(a);var n=be.a.context.rawContext.createBufferSource();n.buffer=t,b(n),n.start(),be.a.context.rawContext.startRendering().then((function(t){e.onSuccess({audioBuffer:t,contextLength:be.a.context.rawContext.length})})).catch((function(e){console.error("Rendering failed: "+e)}))}))}))}},disabled:m}),c.a.createElement(i.a,{style:m?{visibility:"visible"}:{visibility:"hidden"},variant:"body2",className:t.captionGrayText},"Please wait, processing changes.."))},Oe=a(48),je=a(108),ke=a(102),Ne=a(105),Be=a(101),Ae=Object(k.a)({optional:{color:"rgba(0, 0, 0, 0.54)",textAlign:"center",maxHeight:"40px",height:"40px",width:"inherit",maxWidth:"inherit",fontStyle:"italic"},divider:{width:"50%",margin:"5px auto"}}),Re=function(e){var t=Ae();return c.a.createElement("span",null,c.a.createElement(Be.a,{className:t.divider}),c.a.createElement(i.a,{variant:"body2",className:t.optional},function(){if(!(e.activeStep>e.index))return 3===e.activeStep?"Ready to download":["Not chosen yet","Not chosen yet","Not modified yet","Not created yet"][e.index];switch(e.index){case 0:return ve(e.fileName);case 1:return S(e.modification);case 2:return"Modification applied";default:return"Unknown"}}()))},De=Object(k.a)({stepper:Object(r.a)({width:"50%"},j),wrapper:{position:"absolute",bottom:0,padding:"5vh 0",left:0,right:0}}),Le=function(e){var t=De(),a=["Choose WAV file","Choose tool","Modify audio","Download new audio"];return c.a.createElement(Oe.a,{elevation:4,className:t.wrapper},c.a.createElement(je.a,{alternativeLabel:!0,activeStep:e.activeStep,className:t.stepper},a.map((function(t,a){return c.a.createElement(ke.a,{key:t},c.a.createElement(Ne.a,{optional:c.a.createElement(Re,{fileName:e.fileName,modification:e.modification,activeStep:e.activeStep,index:a})},t))}))))},Ue="choose-modification",Ve="modify",We="download-file",Ie="choose-file",Te=function(){var e=c.a.useState(0),t=Object(n.a)(e,2),a=t[0],r=t[1],o=c.a.useState(null),i=Object(n.a)(o,2),l=i[0],u=i[1],s=c.a.useState(null),d=Object(n.a)(s,2),m=d[0],f=d[1],b=c.a.useState(null),v=Object(n.a)(b,2),p=v[0],h=v[1],w=function(e,t){switch(e){case Ie:u(t);break;case Ue:f(t);break;case Ve:h(t);break;default:return void g()}E()},E=function(){r(a+1)},g=function(){r(0),u(null),f(null),h(null)};return c.a.createElement(ae,{activeStep:a,onButtonClick:g},c.a.createElement(B,{activeStep:a,modification:m}),function(){switch(a){case 1:return c.a.createElement(G,{modification:m,onSuccess:function(e){return w(Ue,e)}});case 2:return c.a.createElement(Ce,{modification:m,file:l,onSuccess:function(e){return w(Ve,e)}});case 3:return c.a.createElement(ge,{file:l,data:p,onSuccess:function(){return w(We)}});default:return c.a.createElement(U,{onSuccess:function(e){return w(Ie,e)}})}}(),c.a.createElement(Le,{activeStep:a,fileName:l?l.name:"",modification:m}))},Me=a(13);a.n(Me).a.render(c.a.createElement(Te,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[54,1,2]]]);
//# sourceMappingURL=main.822c9812.chunk.js.map